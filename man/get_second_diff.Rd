% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/thresholding.R
\name{get_second_diff}
\alias{get_second_diff}
\title{Multiple Inflection Points via Second Difference}
\usage{
get_second_diff(x, y, use.threshold = FALSE, threshold = 0)
}
\arguments{
\item{x}{Numeric vector of x-values (ideally sorted).}

\item{y}{Numeric vector of y-values of the same length as \code{x}.}

\item{use.threshold}{Logical indicating whether to only consider second-difference
peaks above \code{threshold}.}

\item{threshold}{Numeric value for the minimum magnitude of the second difference.}
}
\value{
A list with:
\itemize{
\item \code{inflection_indices}: The indices where \eqn{| \Delta^2 y |} is a local max.
\item \code{inflection_xs}: The corresponding \code{x} values.
\item \code{inflection_ys}: The corresponding \code{y} values.
\item \code{second_differences}: The vector of second differences (length = \code{length(x) - 2}).
}
}
\description{
\strong{Find multiple inflection points} by examining the second difference of
a numeric series. We look for \emph{local maxima} in the absolute second difference
(optionally above a threshold) as candidate breakpoints.
}
\details{
\enumerate{
\item Compute first differences, \eqn{\Delta y[i] = y[i+1] - y[i]}.
\item Compute second differences, \eqn{\Delta^2 y[i] = \Delta y[i+1] - \Delta y[i]}.
\item Identify local maxima in \eqn{| \Delta^2 y |}, optionally only those above \code{threshold}.
}
}
\examples{
# Exponential data
x_data <- seq(500)
y_data <- 1 * exp(0.02 * (x_data - 1))

res_sd <- get_second_diff(x_data, y_data)
res_sd$inflection_xs
res_sd$inflection_ys

# Sigmoidal data
x_data <- seq(500)
y_data <- 1 / (1 + exp(-0.02 * (x_data - 250)))

# Find multiple inflection points
res_sd <- get_second_diff(x_data, y_data)
res_sd$inflection_xs
res_sd$inflection_ys
}
\author{
Jared Andrews
}
